---
import Head from "../components/Head.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

const { title, description } = Astro.props;
---

<html class="scroll-smooth" lang="en">
  <Head title={title} description={description} />

  <body class="cursor-[url(assets/images/pointer.svg)_4_4,_auto]">
    <div
      id="pointer"
      class="fixed w-px h-px z-40 rounded-full bg-black/10 rounded-t-full pointer-events-none"
    >
    </div>

    <Header />
    <slot />
    <Footer />

    <script>
      import gsap from "gsap";

      // gsap.from("#header", {
      //   duration: 2,
      //   delay: 2,
      //   ease: "expo",
      //   opacity: 0,
      //   y: -10,
      // });

      // gsap.from("#home > div", {
      //   duration: 2,
      //   delay: 1,
      //   ease: "expo",
      //   opacity: 0,
      //   y: 30,
      //   scale: 0.9,
      // });

      // gsap.from("#work > div", {
      //   duration: 2,
      //   delay: 2,
      //   ease: "expo",
      //   stagger: {
      //     from: "random",
      //     each: 0.2,
      //   },
      //   y: 100,
      //   opacity: 0,
      // });

      var mouseX = 0,
        mouseY = 0;

      addEventListener("mousemove", function (event) {
        mouseX = event.clientX;
        mouseY = event.clientY;

        gsap.to("#pointer", {
          duration: 1,
          ease: "elastic",
          left: mouseX - 20,
          top: mouseY - 20,
          width: 40,
          height: 40,
          borderRadius: 20,
        });
      });

      addEventListener("scroll", function (event) {
        gsap.to("#pointer", {
          duration: 1,
          ease: "elastic",
          left: mouseX - 20,
          top: mouseY - 20,
          width: 40,
          height: 40,
          borderRadius: 20,
        });
      });

      for (var anchor of document.querySelectorAll("a")) {
        anchor.addEventListener("mousemove", function (event) {
          var el = event.currentTarget as HTMLElement;
          if (el) {
            event.stopPropagation();
            mouseX = event.clientX;
            mouseY = event.clientY;

            var rect = el.getBoundingClientRect();

            gsap.to("#pointer", {
              duration: 1,
              ease: "elastic",
              left: rect.left,
              top: rect.top,
              width: rect.width,
              height: rect.height,
              borderRadius: 8,
            });
          }
        });
      }
    </script>
  </body>
</html>
