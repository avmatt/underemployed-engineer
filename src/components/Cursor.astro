<div
  id="cursor"
  class="fixed w-px h-px z-40 rounded-full bg-black/10 rounded-t-full pointer-events-none"
>
</div>

<script>
  import gsap from "gsap";

  var mouseX = 0,
    mouseY = 0;

  addEventListener("mousemove", function (event) {
    mouseX = event.clientX;
    mouseY = event.clientY;

    gsap.to("#cursor", {
      duration: 1,
      ease: "elastic",
      left: mouseX - 20,
      top: mouseY - 20,
      width: 40,
      height: 40,
      borderRadius: 20,
    });
  });

  addEventListener("scroll", function (event) {
    gsap.to("#cursor", {
      duration: 1,
      ease: "elastic",
      left: mouseX - 20,
      top: mouseY - 20,
      width: 40,
      height: 40,
      borderRadius: 20,
    });
  });

  for (var anchor of document.querySelectorAll("a")) {
    anchor.addEventListener("mousemove", function (event) {
      var el = event.currentTarget as HTMLElement;
      if (el) {
        event.stopPropagation();
        mouseX = event.clientX;
        mouseY = event.clientY;

        var rect = el.getBoundingClientRect();

        gsap.to("#cursor", {
          duration: 1,
          ease: "elastic",
          left: rect.left,
          top: rect.top,
          width: rect.width,
          height: rect.height,
          borderRadius: 8,
        });
      }
    });
  }
</script>
